# AI 期货量化交易助手 (命令行版) - 基于松鼠Quant回测框架

这是一个基于命令行的AI量化交易助手。您可以使用自然语言描述交易策略，系统将尝试生成相应的可执行Python代码，并使用已安装的**松鼠Quant回测框架（ssquant）**来运行代码、查看结果以及进行修改。

## 功能

*   **自然语言策略生成**: 输入策略描述，AI生成适配松鼠Quant框架的Python策略代码。
*   **策略执行**: 使用松鼠Quant框架运行生成的策略代码进行模拟或分析。
*   **流式输出**: 支持实时查看AI响应和执行日志。
*   **策略管理**: 保存、修改生成的策略。
*   **参数设置**: 设置执行所需的参数（如交易标的、时间范围等）。

## 设置

1.  **安装松鼠Quant**: 确保您已安装松鼠Quant框架（ssquant包）。
    ```bash
    pip install ssquant
    ```

2.  **安装依赖**: 项目依赖项在`ai_cmd/requirements.txt`中定义。运行：
    ```bash
    pip install -r ai_cmd/requirements.txt 
    ```
    这将安装所需的所有依赖，包括ssquant框架。

3.  **配置环境变量**: 项目需要访问 OpenAI API 或兼容的 API。请创建一个 `.env` 文件在 `ai_cmd` 目录下，并填入以下内容：
    ```dotenv
    # .env 文件内容示例
    OPENAI_API_KEY="sk-your-api-key"
    OPENAI_API_URL="https://api.openai.com/v1" # 或者您的代理/兼容API地址
    GPT_MODEL="gpt-4o" # 您想使用的模型
    ```
    **重要**: 确保您的 API Key 是有效的，并且配置的 URL 和模型是正确的。

4.  **数据准备**: 松鼠Quant回测框架需要交易数据。请确保相关数据已按照ssquant框架的要求准备好。

## 运行

直接在项目目录中运行main.py:

```bash
cd ai_cmd
python main.py
```

## 使用

应用程序启动后，您将看到欢迎信息和可用命令列表。您可以：

*   **直接输入策略描述**: 例如 "使用简单的双均线交叉策略，当5日均线上穿20日均线时买入，下穿时卖出。" AI将尝试生成适配松鼠Quant框架的代码。

## 注意事项

*   **代码更新**: 目录更新为使用已安装的`ssquant`包。
*   生成的代码质量依赖于AI模型的能力和您的描述清晰度，以及AI对松鼠Quant框架API的理解程度。
*   执行结果仅供参考，不构成投资建议。
*   确保您的API密钥安全，不要将其硬编码在代码中或公开分享。
*   确保数据文件符合松鼠Quant框架的要求。 